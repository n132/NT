#!/bin/bash

# author: @n132 ;)
# Check if the first parameter is "debug"
FILE="./dbg"
GITHUB_URL="https://raw.githubusercontent.com/n132/NT/refs/heads/main/template/dbg.tmp"
if [ "$1" == "debug" ]; then
    # Run gdb with the specified options
    echo "DEBUG MODE"
    if [ ! -f "$FILE" ]; then
        curl -o "$FILE" "$GITHUB_URL"
    fi
    if [ -n "$2" ]; then  # Corrected condition syntax
        sudo -E gdb-multiarch ./vmlinux -x ./dbg
    else
        sudo -E gdb ./vmlinux -x ./dbg
    fi
else
    echo "Not in debug mode."
fi
